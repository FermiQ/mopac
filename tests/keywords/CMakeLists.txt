# Molecular Orbital PACkage (MOPAC)
# Copyright (C) 2021, Virginia Polytechnic Institute and State University
#
# MOPAC is free software: you can redistribute it and/or modify it under
# the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# MOPAC is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with this program. If not, see <https://www.gnu.org/licenses/>.

# Basic tests for parsing/using each MOPAC keyword, including obsolete keywords & old syntax for backward compatibility

macro(add_keyword_test _name _files)
 # _files is not a list, it's a string... Transform it into a list
  set(files)
  string(REPLACE ";" " " _files "${_files}")
  foreach(_label "${_files}")
    list(APPEND files ${_label})
   endforeach()
  unset(_files)

  add_test(NAME "${_name}" COMMAND ${Python_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/../run_test.py ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR}/../../mopac${CMAKE_EXECUTABLE_SUFFIX} ${_files})
endmacro()

add_keyword_test(key-ampersand "ampersand.mop")
add_keyword_test(key-plus "plus.mop")
add_keyword_test(key-plusplus "plusplus.mop")
add_keyword_test(key-0SCF "0SCF.mop")
add_keyword_test(key-1ELECTRON "1ELECTRON.mop")
add_keyword_test(key-1SCF "1SCF.mop")
add_keyword_test(key-A0 "A0.mop")
add_keyword_test(key-AIGIN "AIGIN.mop")
add_keyword_test(key-AIGOUT "AIGOUT.mop")
add_keyword_test(key-ALLBONDS "ALLBONDS.mop")
add_keyword_test(key-ALLVEC "ALLVEC.mop")
add_keyword_test(key-AM1 "AM1.mop")
add_keyword_test(key-ANGSTROMS "ANGSTROMS.mop")
add_keyword_test(key-AUTOSYM "AUTOSYM.mop")
#add_keyword_test(key-BANANA "BANANA.mop")
add_keyword_test(key-BIRADICAL "BIRADICAL.mop")
#add_keyword_test(key-BONDS "BONDS.mop")
add_keyword_test(key-CdotAdotSdot "CdotAdotSdot.mop")
add_keyword_test(key-CdotIdot "CdotIdot.mop")
add_keyword_test(key-CdotIdotDdot "CdotIdotDdot.mop")
#add_keyword_test(key-CARTAB "CARTAB.mop")
add_keyword_test(key-CHARGE "CHARGE.mop")
#add_keyword_test(key-CHARGES "CHARGES.mop")
#add_keyword_test(key-CHARST "CHARST.mop")
add_keyword_test(key-CIS "CIS.mop")
add_keyword_test(key-CISD "CISD.mop")
add_keyword_test(key-CISDT "CISDT.mop")
#add_keyword_test(key-COMPFG "COMPFG.mop")
#add_keyword_test(key-DCART "DCART.mop")
#add_keyword_test(key-DEBUG "DEBUG.mop")
#add_keyword_test(key-DEBUGPULAY "DEBUGPULAY.mop")
#add_keyword_test(key-DERI1 "DERI1.mop")
#add_keyword_test(key-DERI2 "DERI2.mop")
#add_keyword_test(key-DERITR "DERITR.mop")
#add_keyword_test(key-DERIV "DERIV.mop")
#add_keyword_test(key-DERNVO "DERNVO.mop")
#add_keyword_test(key-DFORCE "DFORCE.mop")
add_keyword_test(key-DISP "DISP.mop")
add_keyword_test(key-DOUBLET "DOUBLET.mop")
#add_keyword_test(key-ECHO "ECHO.mop")
#add_keyword_test(key-EIGEN "EIGEN.mop")
#add_keyword_test(key-EIGS "EIGS.mop")
add_keyword_test(key-EXCITED "EXCITED.mop")
#add_keyword_test(key-FLEPO "FLEPO.mop")
#add_keyword_test(key-FMAT "FMAT.mop")
#add_keyword_test(key-FOCK "FOCK.mop")
#add_keyword_test(key-FREQCY "FREQCY.mop")
#add_keyword_test(key-GRADIENTS "GRADIENTS.mop")
#add_keyword_test(key-HCORE "HCORE.mop")
#add_keyword_test(key-HESSIAN "HESSIAN.mop")
add_keyword_test(key-INDO "INDO.mop")
#add_keyword_test(key-ITER "ITER.mop")
#add_keyword_test(key-LARGE "LARGE.mop")
#add_keyword_test(key-LINMIN "LINMIN.mop")
#add_keyword_test(key-LOCAL "LOCAL.mop")
add_keyword_test(key-MAXCI "MAXCI.mop")
add_keyword_test(key-MECI "MECI.mop")
#add_keyword_test(key-MINI "MINI.mop")
add_keyword_test(key-MNDO "MNDO.mop")
add_keyword_test(key-MNDOD "MNDOD.mop")
#add_keyword_test(key-MOLDAT "MOLDAT.mop")
#add_keyword_test(key-MOLSYM "MOLSYM.mop")
add_keyword_test(key-MRCI "MRCI.mop")
add_keyword_test(key-MS "MS.mop")
#add_keyword_test(key-MULLIK "MULLIK.mop")
add_keyword_test(key-NOANCI "NOANCI.mop")
add_keyword_test(key-NONET "NONET.mop")
add_keyword_test(key-NOSYM "NOSYM.mop")
#add_keyword_test(key-NOXYZ "NOXYZ.mop")
add_keyword_test(key-OCTET "OCTET.mop")
add_keyword_test(key-OPEN "OPEN.mop")
add_keyword_test(key-PECI "PECI.mop")
#add_keyword_test(key-PKA "PKA.mop")
add_keyword_test(key-PM3 "PM3.mop")
add_keyword_test(key-PM6 "PM6.mop")
add_keyword_test(key-PM6-D3 "PM6-D3.mop")
add_keyword_test(key-PM6-D3H4 "PM6-D3H4.mop")
add_keyword_test(key-PM6-D3H4X "PM6-D3H4X.mop")
add_keyword_test(key-PM6-DHplus "PM6-DHplus.mop")
add_keyword_test(key-PM6-DH2 "PM6-DH2.mop")
add_keyword_test(key-PM6-DH2X "PM6-DH2X.mop")
add_keyword_test(key-PM7 "PM7.mop")
add_keyword_test(key-PM7-TS "PM7-TS.mop")
#add_keyword_test(key-POWSQ "POWSQ.mop")
#add_keyword_test(key-PRNT "PRNT.mop")
#add_keyword_test(key-PRTCHAR "PRTCHAR.mop")
#add_keyword_test(key-PRTINT "PRTINT.mop")
#add_keyword_test(key-PRTMEP "PRTMEP.mop")
#add_keyword_test(key-PRTXYZ "PRTXYZ.mop")
add_keyword_test(key-QUARTET "QUARTET.mop")
add_keyword_test(key-QUINTET "QUINTET.mop")
#add_keyword_test(key-RABBIT "RABBIT.mop")
#add_keyword_test(key-RAMA "RAMA.mop")
#add_keyword_test(key-RE-LOCAL "RE-LOCAL.mop")
add_keyword_test(key-RHF "RHF.mop")
add_keyword_test(key-RM1 "RM1.mop")
add_keyword_test(key-ROOT "ROOT.mop")
add_keyword_test(key-SEPTET "SEPTET.mop")
add_keyword_test(key-SEXTET "SEXTET.mop")
add_keyword_test(key-SINGLET "SINGLET.mop")
add_keyword_test(key-SNAP "SNAP.mop")
#add_keyword_test(key-SPIN "SPIN.mop")
#add_keyword_test(key-SUPER "SUPER.mop")
add_keyword_test(key-SYMMETRY "SYMMETRY.mop")
#add_keyword_test(key-SYMOIR "SYMOIR.mop")
#add_keyword_test(key-SYMTRZ "SYMTRZ.mop")
add_keyword_test(key-TDIP "TDIP.mop")
#add_keyword_test(key-TIMES "TIMES.mop")
add_keyword_test(key-TRIPLET "TRIPLET.mop")
add_keyword_test(key-UHF "UHF.mop")
#add_keyword_test(key-VECTORS "VECTORS.mop")
add_keyword_test(key-WRTCI "WRTCI.mop")
add_keyword_test(key-WRTCONF "WRTCONF.mop")
